(function(){"use strict";angular.module("app").factory("FileService",FileService);FileService.$inject=["$http","$q","$rootScope"];function FileService($http,$q,$rootScope){var service={};service.SaveFile=SaveFile;service.getyFile=getyFile;return service;function SaveFile(dataFile){var defered=$q.defer();var promise=defered.promise;$http.post("API/FM/upload-file",dataFile,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).then(function(response){defered.resolve(response);$rootScope.globals.refres=true},handleError("Error al guardar archivo "));return promise}function getyFile(ficha){var defered=$q.defer();var promise=defered.promise;$http.post("file",{id:ficha},{responseType:"arraybuffer"}).then(function(data){defered.resolve(data.data)},handleError("Error getting file"));return promise}function handleSuccessfile(){}function handleError(error){return function(){console.log(error);return{success:false,message:error}}}}})();