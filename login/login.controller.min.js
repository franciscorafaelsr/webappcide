(function(){"use strict";angular.module("app").controller("LoginController",LoginController);LoginController.$inject=["$location","AuthenticationService"];function LoginController($location,AuthenticationService){var vm=this;vm.login=login;(function initController(){AuthenticationService.ClearCredentials()})();function login(){vm.dataLoading=true;AuthenticationService.Login(vm.username,vm.password).then(function(data){if(data.data.idsesion){AuthenticationService.SetCredentials(vm.username,vm.password,data.data.idUser,data.data.idsesion);$location.path("/convocatoria")}}).catch(function(err){console.log("no se pudo iniciar session");console.log(err);$location.path("/login")});vm.dataLoading=false}}})();